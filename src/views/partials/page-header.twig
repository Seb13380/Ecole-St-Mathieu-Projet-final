{# 
   Page Header Partial - Header moderne et r√©utilisable pour les pages admin
   
   Variables attendues :
   - title: Titre principal de la page
   - subtitle: Sous-titre/description (optionnel)
   - icon: Ic√¥ne FontAwesome (optionnel)
   - emoji: Emoji (optionnel, alternative √† l'ic√¥ne)
   - gradient: Type de gradient ('blue', 'green', 'purple', 'orange', 'red') - d√©faut: 'blue'
   - user: Objet utilisateur (optionnel, pour affichage personnalis√©)
#}

{% set gradients = {
    'blue': 'from-blue-500 to-blue-600',
    'green': 'from-green-500 to-green-600', 
    'purple': 'from-purple-500 to-purple-600',
    'orange': 'from-orange-500 to-orange-600',
    'red': 'from-red-500 to-red-600',
    'teal': 'from-teal-500 to-teal-600',
    'indigo': 'from-indigo-500 to-indigo-600'
} %}

{% set selectedGradient = gradients[gradient] ?? gradients.blue %}

<div class="mb-8">
    <div class="bg-gradient-to-r {{ selectedGradient }} rounded-2xl shadow-lg border border-slate-200 overflow-hidden">
        <div class="relative">
            <!-- Motif d√©coratif en arri√®re-plan -->
            <div class="absolute inset-0 bg-black/5">
                <div class="absolute inset-0 bg-gradient-to-br from-white/10 to-transparent"></div>
                <div class="absolute top-0 right-0 w-64 h-64 bg-white/5 rounded-full -translate-y-32 translate-x-32"></div>
                <div class="absolute bottom-0 left-0 w-48 h-48 bg-white/5 rounded-full translate-y-24 -translate-x-24"></div>
            </div>
            
            <!-- Contenu principal -->
            <div class="relative px-8 py-10 text-center">
                {% if emoji %}
                    <div class="text-5xl mb-4">{{ emoji }}</div>
                {% elseif icon %}
                    <div class="flex justify-center mb-4">
                        <div class="bg-white/20 backdrop-blur-sm rounded-2xl p-4">
                            <i class="{{ icon }} text-4xl text-white"></i>
                        </div>
                    </div>
                {% endif %}
                
                <h1 class="text-4xl font-bold text-white mb-3 drop-shadow-sm">
                    {{ title }}
                </h1>
                
                {% if subtitle %}
                    <p class="text-xl text-white/90 mb-2 drop-shadow-sm">
                        {{ subtitle }}
                    </p>
                {% endif %}
                
                {% if user %}
                    <div class="mt-4 pt-4 border-t border-white/20">
                        <p class="text-white/80">
                            Connect√© en tant que 
                            <span class="font-semibold text-white">{{ user.firstName }} {{ user.lastName }}</span>
                        </p>
                        <p class="text-sm text-white/70">
                            {% if user.role == 'ADMIN' %}
                                üîß Administrateur
                            {% elseif user.role == 'DIRECTION' %}
                                üéØ Direction
                            {% elseif user.role == 'ENSEIGNANT' %}
                                üìö Enseignant
                            {% elseif user.role == 'PARENT' %}
                                üë®‚Äçüë©‚Äçüëß‚Äçüë¶ Parent
                            {% elseif user.role == 'RESTAURANT' %}
                                üçΩÔ∏è Restauration
                            {% elseif user.role == 'SECRETAIRE' %}
                                üìã Secr√©tariat
                            {% else %}
                                üë§ {{ user.role }}
                            {% endif %}
                        </p>
                    </div>
                {% endif %}
                
                <!-- Breadcrumb si fourni -->
                {% if breadcrumb %}
                    <div class="mt-4 pt-4 border-t border-white/20">
                        <nav class="flex justify-center">
                            <ol class="flex items-center space-x-2 text-sm text-white/80">
                                {% for item in breadcrumb %}
                                    {% if not loop.last %}
                                        <li>
                                            {% if item.url %}
                                                <a href="{{ item.url }}" class="hover:text-white transition-colors">
                                                    {{ item.label }}
                                                </a>
                                            {% else %}
                                                {{ item.label }}
                                            {% endif %}
                                        </li>
                                        {% if not loop.last %}
                                            <li class="text-white/60">
                                                <i class="fas fa-chevron-right text-xs"></i>
                                            </li>
                                        {% endif %}
                                    {% else %}
                                        <li class="font-semibold text-white">
                                            {{ item.label }}
                                        </li>
                                    {% endif %}
                                {% endfor %}
                            </ol>
                        </nav>
                    </div>
                {% endif %}
            </div>
        </div>
    </div>
</div>
