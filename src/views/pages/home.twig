{% extends "layouts/base.twig" %}

{% block title %}École Saint-Mathieu - Accueil
{% endblock %}

{% block main %}

	<!-- Section Carousel Hero - Pleine page en arrière-plan -->
	<section
		class="relative w-full h-screen overflow-hidden">
		<!-- Carousel en arrière-plan -->
		<div id="default-carousel" class="absolute inset-0 w-full h-full" data-carousel="slide" data-carousel-interval="5000">
			<div
				class="relative w-full h-full overflow-hidden">
				<!-- Item 1 -->
				<div data-carousel-item="active" class="absolute inset-0 duration-700 ease-in-out">
					<img src="/assets/images/20250326_114849.jpg" class="block w-full h-full object-cover" alt="École Saint-Mathieu">
				</div>
				<!-- Item 2 -->
				<div data-carousel-item class="absolute inset-0 hidden duration-700 ease-in-out">
					<img src="/assets/images/20250326_114954.jpg" class="block w-full h-full object-cover" alt="Activités scolaires">
				</div>
				<!-- Item 3 -->
				<div data-carousel-item class="absolute inset-0 hidden duration-700 ease-in-out">
					<img src="/assets/images/47d2b2f0-69d4-4913-b80c-5da660a12e2e.jpg" class="block w-full h-full object-cover" alt="Cour de récréation">
				</div>
				<!-- Item 4 -->
				<div data-carousel-item class="absolute inset-0 hidden duration-700 ease-in-out">
					<img src="/assets/images/20250514_114720.jpg" class="block w-full h-full object-cover" alt="Environnement scolaire">
				</div>
				<!-- Item 5 -->
				<div data-carousel-item class="absolute inset-0 hidden duration-700 ease-in-out">
					<img src="/assets/images/20250710_124427.jpg" class="block w-full h-full object-cover" alt="Vie scolaire">
				</div>
				<!-- Item 6 -->
				<div data-carousel-item class="absolute inset-0 hidden duration-700 ease-in-out">
					<img src="/assets/images/20250710_123601.jpg" class="block w-full h-full object-cover" alt="Vie scolaire">
				</div>
				<!-- Item 7 -->
				<div data-carousel-item class="absolute inset-0 hidden duration-700 ease-in-out">
					<img src="/assets/images/entreePrincipale.jpg" class="block w-full h-full object-cover" alt="Vie scolaire">
				</div>
				<!-- Item 8 -->
				<div data-carousel-item class="absolute inset-0 hidden duration-700 ease-in-out">
					<img src="/assets/images/20250710_123943.jpg" class="block w-full h-full object-cover" alt="Vie scolaire">
				</div>
				<!-- Item 9 -->
				<div data-carousel-item class="absolute inset-0 hidden duration-700 ease-in-out">
					<img src="/assets/images/entreeChapelle2.jpg" class="block w-full h-full object-cover" alt="Vie scolaire">
				</div>
				<!-- Item 10 -->
				<div data-carousel-item class="absolute inset-0 hidden duration-700 ease-in-out">
					<img src="/assets/images/IMG-20250605-WA0002(1).jpg" class="block w-full h-full object-cover" alt="Vie scolaire">
				</div>
				<!-- Item 11 -->
				<div data-carousel-item class="absolute inset-0 hidden duration-700 ease-in-out">
					<img src="/assets/images/20250710_124511.jpg" class="block w-full h-full object-cover" alt="Vie scolaire">
				</div>
			</div>

			<!-- Overlay sombre pour améliorer la lisibilité -->
			<div class="absolute inset-0 bg-black bg-opacity-30 z-10"></div>

			<!-- Contenu Hero par-dessus le carousel -->
			<div class="absolute inset-0 z-20 flex items-start justify-center pt-10 lg:pt-24">
				<div class="max-w-7xl mx-auto px-8">
					<div class="flex items-start justify-between gap-12">
						<div class="flex-1 text-white bg-black/40 backdrop-blur-sm rounded-xl p-8">
							<h1 class="text-4xl lg:text-6xl font-bold mb-6 leading-tight drop-shadow-2xl text-shadow-lg">
								Bienvenue à l'École Saint-Mathieu
							</h1>
							<p class="text-lg lg:text-xl text-white/95 mb-8 leading-relaxed drop-shadow-xl text-shadow-md">
								L'école Saint Mathieu est ouverte à tous, conformément à la volonté de l'Eglise catholique de
																																																																mettre à la disposition de tous ses orientations éducatives. Elle est associée à l'Etat par contrat dans le
																																																																cadre de la loi Debré de 1959.<br>
								Ce projet, propre à l'école Saint Mathieu, puise sa source dans l'Evangile. Ses propositions
																																																																éducatives se fondent sur la vision chrétienne de la personne humaine.
							</p>

						</div>

					</div>
				</div>
			</div>
			<!-- Dots de navigation -->
			<div class="absolute z-30 flex -translate-x-1/2 bottom-5 left-1/2 space-x-3">
				<button type="button" class="w-3 h-3 rounded-full bg-white/50 hover:bg-white" data-carousel-slide-to="0"></button>
				<button type="button" class="w-3 h-3 rounded-full bg-white/50 hover:bg-white" data-carousel-slide-to="1"></button>
				<button type="button" class="w-3 h-3 rounded-full bg-white/50 hover:bg-white" data-carousel-slide-to="2"></button>
				<button type="button" class="w-3 h-3 rounded-full bg-white/50 hover:bg-white" data-carousel-slide-to="3"></button>
				<button type="button" class="w-3 h-3 rounded-full bg-white/50 hover:bg-white" data-carousel-slide-to="4"></button>
				<button type="button" class="w-3 h-3 rounded-full bg-white/50 hover:bg-white" data-carousel-slide-to="5"></button>
				<button type="button" class="w-3 h-3 rounded-full bg-white/50 hover:bg-white" data-carousel-slide-to="6"></button>
				<button type="button" class="w-3 h-3 rounded-full bg-white/50 hover:bg-white" data-carousel-slide-to="7"></button>
				<button type="button" class="w-3 h-3 rounded-full bg-white/50 hover:bg-white" data-carousel-slide-to="8"></button>
				<button type="button" class="w-3 h-3 rounded-full bg-white/50 hover:bg-white" data-carousel-slide-to="9"></button>
				<button type="button" class="w-3 h-3 rounded-full bg-white/50 hover:bg-white" data-carousel-slide-to="10"></button>
			</div>

			<!-- Flèches de navigation -->
			<button type="button" class="absolute top-0 left-0 z-30 flex items-center justify-center h-full px-4 cursor-pointer group focus:outline-none" data-carousel-prev>
				<span class="inline-flex items-center justify-center w-10 h-10 rounded-full bg-white/30 group-hover:bg-white/50 group-focus:ring-4 group-focus:ring-white group-focus:outline-none">
					<svg class="w-4 h-4 text-white rtl:rotate-180" fill="none" viewbox="0 0 6 10">
						<path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 1 1 5l4 4"/>
					</svg>
				</span>
			</button>
			<button type="button" class="absolute top-0 right-0 z-30 flex items-center justify-center h-full px-4 cursor-pointer group focus:outline-none" data-carousel-next>
				<span class="inline-flex items-center justify-center w-10 h-10 rounded-full bg-white/30 group-hover:bg-white/50 group-focus:ring-4 group-focus:ring-white group-focus:outline-none">
					<svg class="w-4 h-4 text-white rtl:rotate-180" fill="none" viewbox="0 0 6 10">
						<path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m1 9 4-4-4-4"/>
					</svg>
				</span>
			</button>
		</div>
	</section>

	<!-- Section Actualités & Travaux - Pleine largeur -->
	<section class="w-full bg-green p-4">
		<div class="max-w-none px-4 py-8">
			<div class="max-w-none mx-auto">
				<h2 class="text-4xl lg:text-5xl font-bold text-[#304a4d] mb-2 text-center p-8">Actualités & Travaux</h2>
				<h3 class="text-2xl lg:text-3xl font-bold text-[#304a4d] mb-8 text-center">"Les Echos liés de St Mathieu"</h3>

				<div
					class="grid grid-cols-3 gap-0">
					<!-- Section Images - 2/3 (Mini carousel plus grand) -->
					<div class="col-span-2 bg-white">
						<div
							class="p-0 h-full">

							<!-- Mini carousel d'images -->
							<div id="actualites-carousel" class="relative h-full" data-carousel="slide" data-carousel-interval="4000">
								<div
									class="relative h-full overflow-hidden">
									<!-- Image 1 -->
									<div data-carousel-item="active" class="duration-1000 ease-in-out">
										<img src="/assets/images/20250326_114849.jpg" class="block w-full h-full object-cover" alt="Actualités école">
										<div class="absolute bottom-0 left-0 right-0 bg-black bg-opacity-50 text-white p-6">
											<h4 class="text-lg font-bold">Rentrée scolaire 2025-2026</h4>
											<p class="text-sm">Préparatifs en cours pour accueillir nos élèves</p>
										</div>
									</div>
									<!-- Image 2 -->
									<div data-carousel-item class="hidden duration-1000 ease-in-out">
										<img src="/assets/images/20250710_123601.jpg" class="block w-full h-full object-cover" alt="Travaux école">
										<div class="absolute bottom-0 left-0 right-0 bg-black bg-opacity-50 text-white p-6">
											<h4 class="text-lg font-bold">Rénovation en cours</h4>
											<p class="text-sm">Amélioration des espaces de vie scolaire</p>
										</div>
									</div>
									<!-- Image 3 -->
									<div data-carousel-item class="hidden duration-1000 ease-in-out">
										<img src="/assets/images/entreePrincipale.jpg" class="block w-full h-full object-cover" alt="Vie scolaire">
										<div class="absolute bottom-0 left-0 right-0 bg-black bg-opacity-50 text-white p-6">
											<h4 class="text-lg font-bold">Vie de l'école</h4>
											<p class="text-sm">Moments de partage et d'apprentissage</p>
										</div>
									</div>
									<!-- Image 4 -->
									<div data-carousel-item class="hidden duration-1000 ease-in-out">
										<img src="/assets/images/20250710_123943.jpg" class="block w-full h-full object-cover" alt="Projets école">
										<div class="absolute bottom-0 left-0 right-0 bg-black bg-opacity-50 text-white p-6">
											<h4 class="text-lg font-bold">Nouveaux projets</h4>
											<p class="text-sm">Innovation et modernisation continue</p>
										</div>
									</div>
								</div>

								<!-- Navigation carousel -->
								<div class="absolute z-30 flex -translate-x-1/2 bottom-2 left-1/2 space-x-2">
									<button type="button" class="w-2 h-2 rounded-full bg-white/70 hover:bg-white" data-carousel-slide-to="0"></button>
									<button type="button" class="w-2 h-2 rounded-full bg-white/70 hover:bg-white" data-carousel-slide-to="1"></button>
									<button type="button" class="w-2 h-2 rounded-full bg-white/70 hover:bg-white" data-carousel-slide-to="2"></button>
									<button type="button" class="w-2 h-2 rounded-full bg-white/70 hover:bg-white" data-carousel-slide-to="3"></button>
								</div>
							</div>
						</div>
					</div>

					<!-- Section Texte - 1/3 (Actualités & Travaux plus petit) -->
					<div class="col-span-1 bg-[#304a4d] text-white">
						<div class="p-8 h-full">
							<h3 class="text-xl lg:text-3xl font-bold mb-6">📰 Actualités</h3>
							<div class="space-y-4 mb-8">
								<div class="border-l-4 border-[#a7e3dd] pl-4">
									<h4 class="text-sm font-semibold mb-2">Rentrée scolaire 2025</h4>
									<p class="text-xs text-white/90 mb-2">La rentrée aura lieu le lundi 2 septembre 2025.</p>
									<span class="text-xs text-white/70">📅 15 juillet 2025</span>
								</div>
								<div class="border-l-4 border-[#a7e3dd] pl-4">
									<h4 class="text-sm font-semibold mb-2">Inscriptions ouvertes</h4>
									<p class="text-xs text-white/90 mb-2">Année scolaire 2025-2026, contactez le secrétariat.</p>
									<span class="text-xs text-white/70">📅 10 juillet 2025</span>
								</div>
							</div>

							<h3 class="text-xl lg:text-2xl font-bold mb-6">🔨 Travaux</h3>
							<div class="space-y-4">
								<div class="border-l-4 border-[#a7e3dd] pl-4">
									<h4 class="text-sm font-semibold mb-2">Rénovation cour</h4>
									<p class="text-xs text-white/90 mb-3">Nouveaux jeux et revêtement prévu pour septembre.</p>
									<div class="w-full bg-white/20 rounded-full h-2 mb-2">
										<div class="bg-[#a7e3dd] h-2 rounded-full" style="width: 75%"></div>
									</div>
									<span class="text-xs text-white/70">🔧 75%</span>
								</div>
								<div class="border-l-4 border-[#a7e3dd] pl-4">
									<h4 class="text-sm font-semibold mb-2">Tableaux numériques</h4>
									<p class="text-xs text-white/90 mb-3">Équipement de toutes les classes.</p>
									<div class="w-full bg-white/20 rounded-full h-2 mb-2">
										<div class="bg-[#a7e3dd] h-2 rounded-full" style="width: 45%"></div>
									</div>
									<span class="text-xs text-white/70">🔧 45%</span>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</section>

	<!-- Section Map - Pleine largeur -->
	<section class="w-full bg-white">
		<div class="max-w-none">
			<iframe src="https://www.google.com/maps?q=22+Pl.+des+H%C3%A9ros,+13013+Marseille&output=embed" width="100%" height="500" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
		</div>
	</section>

{% endblock %}

{% block styles %}
	{{ parent() }}
	<style>
		/* Unique override utile : bien couvrir le conteneur */
		[data-carousel="slide"] img {
			object-fit: cover;
			object-position: center;
			width: 100%;
			height: 100%;
		}

		/* Style spécifique pour l'image de la chapelle */
		[data-carousel="slide"] img[src*="entreeChapelle"] {
			object-fit: contain;
		}

		/* Style spécifique pour entreeChapelle2 - prend toute la largeur */
		[data-carousel="slide"] img[src*="entreeChapelle2"] {
			object-fit: cover !important;
			object-position: center;
		}

		/* Animation moderne pulse-glow pour le logo Educartable */
		@keyframes pulse-glow {
			0,
			100% {
				opacity: 1;
				filter: drop-shadow(0 0 5px rgba(167, 227, 221, 0.3));
				transform: scale(1);
			}
			50% {
				opacity: 0.9;
				filter: drop-shadow(0 0 15px rgba(167, 227, 221, 0.6));
				transform: scale(1.02);
			}
		}

		/* Ombres de texte personnalisées pour une meilleure lisibilité */
		.text-shadow-lg {
			text-shadow: 0 4px 8px rgba(0, 0, 0, 0.8), 0 2px 4px rgba(0, 0, 0, 0.6), 0 1px 2px rgba(0, 0, 0, 0.4);
		}

		.text-shadow-md {
			text-shadow: 0 2px 4px rgba(0, 0, 0, 0.8), 0 1px 2px rgba(0, 0, 0, 0.6);
		}

		/* Effet de bordure de texte pour une lisibilité maximale */
		.text-outline {
			-webkit-text-stroke: 1px rgba(0, 0, 0, 0.5);
			text-stroke: 1px rgba(0, 0, 0, 0.5);
		}
	</style>
{% endblock %}

{% block scripts %}
	{{ parent() }}
	<!-- Bundle Flowbite (initialise automatiquement tous les carousels data-carousel) -->
	<script src="https://unpkg.com/flowbite@latest/dist/flowbite.bundle.js"></script>
{% endblock %}
