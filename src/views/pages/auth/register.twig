{% extends "layouts/base.twig" %}

{% block title %}
	<title>Inscription - École Saint-Mathieu</title>
{% endblock %}

{% block main %}
	<div class="min-h-screen flex items-center justify-center py-8 px-4 sm:px-6 lg:px-8">
		<div class="max-w-2xl w-full space-y-8">
			<div>
				<h2 class="mt-6 text-center text-3xl font-extrabold text-gray-700">
					Pré-inscription élève
				</h2>
				<p class="mt-3 text-center text-sm text-gray-600">
					École Saint-Mathieu
				</p>
				<p class="mt-3 text-center text-sm text-green-500">
					Veuillez noter que cette pré-inscription est soumise à validation par l'administration de l'école.
				</p>
			</div>

			<form
				class="mt-8 space-y-6" action="/auth/register" method="POST">

				<!-- Section Informations de l'enfant -->
				<div class="bg-gray-50 rounded-lg p-6 border-l-4 border-teal-500">
					<h3 class="text-lg font-semibold text-gray-700 mb-4 text-center">👶 Informations de l'enfant</h3>
					<div class="grid grid-cols-1 md:grid-cols-2 gap-4">
						<div class="form-control">
							<label class="label">
								<span class="label-text font-medium">Prénom de l'enfant</span>
							</label>
							<input type="text" name="childFirstName" value="{{ formData.childFirstName }}" placeholder="Prénom de l'enfant" class="input border-2 border-teal-300 focus:border-teal-600 focus:outline-none w-full rounded-lg px-3 py-2" required>
						</div>

						<div class="form-control">
							<label class="label">
								<span class="label-text font-medium">Nom de l'enfant</span>
							</label>
							<input type="text" name="childLastName" value="{{ formData.childLastName }}" placeholder="Nom de l'enfant" class="input border-2 border-teal-300 focus:border-teal-600 focus:outline-none w-full rounded-lg px-3 py-2" required>
						</div>
					</div>
				</div>

				<!-- Section Informations du parent -->
				<div class="bg-blue-50 rounded-lg p-6 border-l-4 border-blue-500">
					<h3 class="text-lg font-semibold text-gray-700 mb-4 text-center">👨‍👩‍👧‍👦 Informations du parent</h3>
					<div class="grid grid-cols-1 md:grid-cols-2 gap-4">
						<div class="form-control">
							<label class="label">
								<span class="label-text font-medium">Prénom du parent</span>
							</label>
							<input type="text" name="firstName" value="{{ formData.firstName }}" placeholder="Votre prénom" class="input border-2 border-blue-300 focus:border-blue-600 focus:outline-none w-full rounded-lg px-3 py-2" required>
						</div>

						<div class="form-control">
							<label class="label">
								<span class="label-text font-medium">Nom du parent</span>
							</label>
							<input type="text" name="lastName" value="{{ formData.lastName }}" placeholder="Votre nom" class="input border-2 border-blue-300 focus:border-blue-600 focus:outline-none w-full rounded-lg px-3 py-2" required>
						</div>

						<div class="form-control">
							<label class="label">
								<span class="label-text font-medium">Email</span>
							</label>
							<input type="email" name="email" value="{{ formData.email }}" placeholder="votre@email.com" class="input border-2 border-blue-300 focus:border-blue-600 focus:outline-none w-full rounded-lg px-3 py-2" required>
						</div>

						<div class="form-control">
							<label class="label">
								<span class="label-text font-medium">Téléphone</span>
							</label>
							<input type="tel" name="phone" value="{{ formData.phone }}" placeholder="06 12 34 56 78" class="input border-2 border-blue-300 focus:border-blue-600 focus:outline-none w-full rounded-lg px-3 py-2" required>
						</div>

						<div class="form-control md:col-span-2">
							<label class="label">
								<span class="label-text font-medium">Adresse complète</span>
							</label>
							<textarea name="adress" placeholder="Votre adresse complète (rue, code postal, ville)" class="textarea border-2 border-blue-300 focus:border-blue-600 focus:outline-none w-full rounded-lg px-3 py-2 h-20" required>{{ formData.adress }}</textarea>
						</div>
					</div>
				</div>

				<!-- Section Mot de passe -->
				<div class="bg-green-50 rounded-lg p-6 border-l-4 border-green-500">
					<h3 class="text-lg font-semibold text-gray-700 mb-4 text-center">🔒 Sécurité</h3>
					<div class="grid grid-cols-1 md:grid-cols-2 gap-4">
						<div class="form-control">
							<label class="label">
								<span class="label-text font-medium">Mot de passe</span>
							</label>
							<input type="password" name="password" placeholder="Votre mot de passe" class="input border-2 border-red-300 focus:border-red-600 focus:outline-none w-full rounded-lg px-3 py-2" required minlength="6" pattern="^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{6,}$" title="Le mot de passe doit contenir au moins 6 caractères, une majuscule, une minuscule, un chiffre et un caractère spécial (@$!%*?&)">
							<div class="label">
								<span class="label-text-alt text-xs text-gray-500">
									Min. 6 caractères, 1 majuscule, 1 minuscule, 1 chiffre, 1 caractère spécial
								</span>
							</div>
						</div>

						<div class="form-control">
							<label class="label">
								<span class="label-text font-medium">Confirmation mot de passe</span>
							</label>
							<input type="password" name="confirmPassword" placeholder="Confirmez votre mot de passe" class="input border-2 border-green-300 focus:border-red-600 focus:outline-none w-full rounded-lg px-3 py-2" required minlength="6">
							<div class="label">
								<span class="label-text-alt text-xs text-gray-500">
									Ressaisissez le même mot de passe
								</span>
							</div>
						</div>
					</div>
				</div>

				<!-- Section Validation -->
				<div class="pt-6">
					<div class="form-control">
						<button type="submit" class="Btn full-width">
							Créer mon compte
						</button>
					</div>

					<div class="text-center mt-6">
						<p class="text-sm text-gray-600">
							Déjà un compte ?
							<a href="/auth/login" class="text-teal-600 hover:text-teal-800 font-medium underline transition-colors">
								Se connecter
							</a>
						</p>
					</div>
				</div>
			</form>
		</div>
	</div>

	<script src="/assets/js/register.js"></script>
{% endblock %}
